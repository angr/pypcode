<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>decompiler: MemoryPageOverlay Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">decompiler
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classMemoryPageOverlay-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MemoryPageOverlay Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Memory bank that overlays some other memory bank, using a "copy on write" behavior.  
 <a href="classMemoryPageOverlay.html#details">More...</a></p>

<p><code>#include &lt;memstate.hh&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MemoryPageOverlay:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classMemoryPageOverlay.png" usemap="#MemoryPageOverlay_map" alt=""/>
  <map id="MemoryPageOverlay_map" name="MemoryPageOverlay_map">
<area href="classMemoryBank.html" title="Memory storage/state for a single AddressSpace. " alt="MemoryBank" shape="rect" coords="0,0,133,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6c428c147305c5233d570fcfe74d747d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryPageOverlay.html#a6c428c147305c5233d570fcfe74d747d">MemoryPageOverlay</a> (<a class="el" href="classAddrSpace.html">AddrSpace</a> *spc, int4 ws, int4 ps, <a class="el" href="classMemoryBank.html">MemoryBank</a> *ul)</td></tr>
<tr class="memdesc:a6c428c147305c5233d570fcfe74d747d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for page overlay.  <a href="#a6c428c147305c5233d570fcfe74d747d">More...</a><br /></td></tr>
<tr class="separator:a6c428c147305c5233d570fcfe74d747d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classMemoryBank"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classMemoryBank')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classMemoryBank.html">MemoryBank</a></td></tr>
<tr class="memitem:a87f6e0315637453fa0e1bd5110b9bdc9 inherit pub_methods_classMemoryBank"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryBank.html#a87f6e0315637453fa0e1bd5110b9bdc9">MemoryBank</a> (<a class="el" href="classAddrSpace.html">AddrSpace</a> *spc, int4 ws, int4 ps)</td></tr>
<tr class="memdesc:a87f6e0315637453fa0e1bd5110b9bdc9 inherit pub_methods_classMemoryBank"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic constructor for a memory bank.  <a href="classMemoryBank.html#a87f6e0315637453fa0e1bd5110b9bdc9">More...</a><br /></td></tr>
<tr class="separator:a87f6e0315637453fa0e1bd5110b9bdc9 inherit pub_methods_classMemoryBank"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a996d7c04af8f8bf02ce7abb91d693dc5 inherit pub_methods_classMemoryBank"><td class="memItemLeft" align="right" valign="top">int4&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryBank.html#a996d7c04af8f8bf02ce7abb91d693dc5">getWordSize</a> (void) const</td></tr>
<tr class="memdesc:a996d7c04af8f8bf02ce7abb91d693dc5 inherit pub_methods_classMemoryBank"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of bytes in a word for this memory bank.  <a href="classMemoryBank.html#a996d7c04af8f8bf02ce7abb91d693dc5">More...</a><br /></td></tr>
<tr class="separator:a996d7c04af8f8bf02ce7abb91d693dc5 inherit pub_methods_classMemoryBank"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a020cac2b86f83b069c2f1914bc70cb2b inherit pub_methods_classMemoryBank"><td class="memItemLeft" align="right" valign="top">int4&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryBank.html#a020cac2b86f83b069c2f1914bc70cb2b">getPageSize</a> (void) const</td></tr>
<tr class="memdesc:a020cac2b86f83b069c2f1914bc70cb2b inherit pub_methods_classMemoryBank"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of bytes in a page for this memory bank.  <a href="classMemoryBank.html#a020cac2b86f83b069c2f1914bc70cb2b">More...</a><br /></td></tr>
<tr class="separator:a020cac2b86f83b069c2f1914bc70cb2b inherit pub_methods_classMemoryBank"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e8f3ea79a07142e2d655eccf4ebc0f0 inherit pub_methods_classMemoryBank"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAddrSpace.html">AddrSpace</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryBank.html#a8e8f3ea79a07142e2d655eccf4ebc0f0">getSpace</a> (void) const</td></tr>
<tr class="memdesc:a8e8f3ea79a07142e2d655eccf4ebc0f0 inherit pub_methods_classMemoryBank"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the address space associated with this memory bank.  <a href="classMemoryBank.html#a8e8f3ea79a07142e2d655eccf4ebc0f0">More...</a><br /></td></tr>
<tr class="separator:a8e8f3ea79a07142e2d655eccf4ebc0f0 inherit pub_methods_classMemoryBank"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a331f70cbc9d2c7172ebbaaa7e185c1e9 inherit pub_methods_classMemoryBank"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryBank.html#a331f70cbc9d2c7172ebbaaa7e185c1e9">setValue</a> (uintb offset, int4 size, uintb val)</td></tr>
<tr class="memdesc:a331f70cbc9d2c7172ebbaaa7e185c1e9 inherit pub_methods_classMemoryBank"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the value of a (small) range of bytes.  <a href="classMemoryBank.html#a331f70cbc9d2c7172ebbaaa7e185c1e9">More...</a><br /></td></tr>
<tr class="separator:a331f70cbc9d2c7172ebbaaa7e185c1e9 inherit pub_methods_classMemoryBank"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8149ad04fb877f78b56abd1b67962b31 inherit pub_methods_classMemoryBank"><td class="memItemLeft" align="right" valign="top">uintb&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryBank.html#a8149ad04fb877f78b56abd1b67962b31">getValue</a> (uintb offset, int4 size) const</td></tr>
<tr class="memdesc:a8149ad04fb877f78b56abd1b67962b31 inherit pub_methods_classMemoryBank"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the value encoded in a (small) range of bytes.  <a href="classMemoryBank.html#a8149ad04fb877f78b56abd1b67962b31">More...</a><br /></td></tr>
<tr class="separator:a8149ad04fb877f78b56abd1b67962b31 inherit pub_methods_classMemoryBank"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99ed4c66d1ea57306e6bd9ed1a5de787 inherit pub_methods_classMemoryBank"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryBank.html#a99ed4c66d1ea57306e6bd9ed1a5de787">setChunk</a> (uintb offset, int4 size, const uint1 *val)</td></tr>
<tr class="memdesc:a99ed4c66d1ea57306e6bd9ed1a5de787 inherit pub_methods_classMemoryBank"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set values of an arbitrary sequence of bytes.  <a href="classMemoryBank.html#a99ed4c66d1ea57306e6bd9ed1a5de787">More...</a><br /></td></tr>
<tr class="separator:a99ed4c66d1ea57306e6bd9ed1a5de787 inherit pub_methods_classMemoryBank"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af45a81a70ff478940fac0399a2cfbe86 inherit pub_methods_classMemoryBank"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryBank.html#af45a81a70ff478940fac0399a2cfbe86">getChunk</a> (uintb offset, int4 size, uint1 *res) const</td></tr>
<tr class="memdesc:af45a81a70ff478940fac0399a2cfbe86 inherit pub_methods_classMemoryBank"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve an arbitrary sequence of bytes.  <a href="classMemoryBank.html#af45a81a70ff478940fac0399a2cfbe86">More...</a><br /></td></tr>
<tr class="separator:af45a81a70ff478940fac0399a2cfbe86 inherit pub_methods_classMemoryBank"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a4dad83693ae5fe82459e9bdcb3f2415f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryPageOverlay.html#a4dad83693ae5fe82459e9bdcb3f2415f">insert</a> (uintb addr, uintb val)</td></tr>
<tr class="memdesc:a4dad83693ae5fe82459e9bdcb3f2415f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overridden aligned word insert.  <a href="#a4dad83693ae5fe82459e9bdcb3f2415f">More...</a><br /></td></tr>
<tr class="separator:a4dad83693ae5fe82459e9bdcb3f2415f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ba248277eadf04ca7895dea1e614148"><td class="memItemLeft" align="right" valign="top">virtual uintb&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryPageOverlay.html#a7ba248277eadf04ca7895dea1e614148">find</a> (uintb addr) const</td></tr>
<tr class="memdesc:a7ba248277eadf04ca7895dea1e614148"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overridden aligned word find.  <a href="#a7ba248277eadf04ca7895dea1e614148">More...</a><br /></td></tr>
<tr class="separator:a7ba248277eadf04ca7895dea1e614148"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b502920d00bee935fdd15a2e2d823f2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryPageOverlay.html#a0b502920d00bee935fdd15a2e2d823f2">getPage</a> (uintb addr, uint1 *res, int4 skip, int4 size) const</td></tr>
<tr class="memdesc:a0b502920d00bee935fdd15a2e2d823f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overridden getPage.  <a href="#a0b502920d00bee935fdd15a2e2d823f2">More...</a><br /></td></tr>
<tr class="separator:a0b502920d00bee935fdd15a2e2d823f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d713334ec06e47cfdfcf76f0649eb71"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryPageOverlay.html#a1d713334ec06e47cfdfcf76f0649eb71">setPage</a> (uintb addr, const uint1 *val, int4 skip, int4 size)</td></tr>
<tr class="memdesc:a1d713334ec06e47cfdfcf76f0649eb71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overridden setPage.  <a href="#a1d713334ec06e47cfdfcf76f0649eb71">More...</a><br /></td></tr>
<tr class="separator:a1d713334ec06e47cfdfcf76f0649eb71"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9486d1a5381c54e6c072fb11262a4dc8"><td class="memItemLeft" align="right" valign="top"><a id="a9486d1a5381c54e6c072fb11262a4dc8"></a>
<a class="el" href="classMemoryBank.html">MemoryBank</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryPageOverlay.html#a9486d1a5381c54e6c072fb11262a4dc8">underlie</a></td></tr>
<tr class="memdesc:a9486d1a5381c54e6c072fb11262a4dc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Underlying memory object. <br /></td></tr>
<tr class="separator:a9486d1a5381c54e6c072fb11262a4dc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dfd7b0460ccc1664712b6934552dd52"><td class="memItemLeft" align="right" valign="top"><a id="a7dfd7b0460ccc1664712b6934552dd52"></a>
map&lt; uintb, uint1 * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryPageOverlay.html#a7dfd7b0460ccc1664712b6934552dd52">page</a></td></tr>
<tr class="memdesc:a7dfd7b0460ccc1664712b6934552dd52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overlayed pages. <br /></td></tr>
<tr class="separator:a7dfd7b0460ccc1664712b6934552dd52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classMemoryBank"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classMemoryBank')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classMemoryBank.html">MemoryBank</a></td></tr>
<tr class="memitem:aeba21f6794e4fa90b9acf48f4bef7278 inherit pub_static_methods_classMemoryBank"><td class="memItemLeft" align="right" valign="top">static uintb&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryBank.html#aeba21f6794e4fa90b9acf48f4bef7278">constructValue</a> (const uint1 *ptr, int4 size, bool bigendian)</td></tr>
<tr class="memdesc:aeba21f6794e4fa90b9acf48f4bef7278 inherit pub_static_methods_classMemoryBank"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode bytes to value.  <a href="classMemoryBank.html#aeba21f6794e4fa90b9acf48f4bef7278">More...</a><br /></td></tr>
<tr class="separator:aeba21f6794e4fa90b9acf48f4bef7278 inherit pub_static_methods_classMemoryBank"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0cc660245fbe563982d49d68b6d2e02 inherit pub_static_methods_classMemoryBank"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMemoryBank.html#ab0cc660245fbe563982d49d68b6d2e02">deconstructValue</a> (uint1 *ptr, uintb val, int4 size, bool bigendian)</td></tr>
<tr class="memdesc:ab0cc660245fbe563982d49d68b6d2e02 inherit pub_static_methods_classMemoryBank"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode value to bytes.  <a href="classMemoryBank.html#ab0cc660245fbe563982d49d68b6d2e02">More...</a><br /></td></tr>
<tr class="separator:ab0cc660245fbe563982d49d68b6d2e02 inherit pub_static_methods_classMemoryBank"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Memory bank that overlays some other memory bank, using a "copy on write" behavior. </p>
<p>Pages are copied from the underlying object only when there is a write. The underlying access routines are overridden to make optimal use of this page implementation. The underlying memory bank can be a <b>null</b> pointer in which case, this memory bank behaves as if it were initially filled with zeros. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6c428c147305c5233d570fcfe74d747d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c428c147305c5233d570fcfe74d747d">&#9670;&nbsp;</a></span>MemoryPageOverlay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MemoryPageOverlay::MemoryPageOverlay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAddrSpace.html">AddrSpace</a> *&#160;</td>
          <td class="paramname"><em>spc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int4&#160;</td>
          <td class="paramname"><em>ws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int4&#160;</td>
          <td class="paramname"><em>ps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMemoryBank.html">MemoryBank</a> *&#160;</td>
          <td class="paramname"><em>ul</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for page overlay. </p>
<p>A page overlay memory bank needs all the parameters for a generic memory bank and it needs to know the underlying memory bank being overlayed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spc</td><td>is the address space associated with the memory bank </td></tr>
    <tr><td class="paramname">ws</td><td>is the number of bytes in the preferred wordsize (must be power of 2) </td></tr>
    <tr><td class="paramname">ps</td><td>is the number of bytes in a page (must be power of 2) </td></tr>
    <tr><td class="paramname">ul</td><td>is the underlying <a class="el" href="classMemoryBank.html" title="Memory storage/state for a single AddressSpace. ">MemoryBank</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="classMemoryPageOverlay.html#a7dfd7b0460ccc1664712b6934552dd52">page</a>, and <a class="el" href="classMemoryPageOverlay.html#a9486d1a5381c54e6c072fb11262a4dc8">underlie</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7ba248277eadf04ca7895dea1e614148"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ba248277eadf04ca7895dea1e614148">&#9670;&nbsp;</a></span>find()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uintb MemoryPageOverlay::find </td>
          <td>(</td>
          <td class="paramtype">uintb&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overridden aligned word find. </p>
<p>This derived method first looks for the aligned word in the mapped pages. If the address is not mapped, the search is forwarded to the <em>underlying</em> memory bank. If there is no underlying bank, zero is returned. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>is the aligned offset of the word </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the retrieved value </dd></dl>

<p>Implements <a class="el" href="classMemoryBank.html#a421a5b8dd872d0c3e462d9055fa4266d">MemoryBank</a>.</p>

<p class="reference">References <a class="el" href="classMemoryBank.html#aeba21f6794e4fa90b9acf48f4bef7278">MemoryBank::constructValue()</a>, <a class="el" href="classMemoryBank.html#a020cac2b86f83b069c2f1914bc70cb2b">MemoryBank::getPageSize()</a>, <a class="el" href="classMemoryBank.html#a8e8f3ea79a07142e2d655eccf4ebc0f0">MemoryBank::getSpace()</a>, and <a class="el" href="classMemoryBank.html#a996d7c04af8f8bf02ce7abb91d693dc5">MemoryBank::getWordSize()</a>.</p>

</div>
</div>
<a id="a0b502920d00bee935fdd15a2e2d823f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b502920d00bee935fdd15a2e2d823f2">&#9670;&nbsp;</a></span>getPage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MemoryPageOverlay::getPage </td>
          <td>(</td>
          <td class="paramtype">uintb&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint1 *&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int4&#160;</td>
          <td class="paramname"><em>skip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int4&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overridden getPage. </p>
<p>The desired page is looked for in the page cache. If it doesn't exist, the request is forwarded to <em>underlying</em> bank. If there is no underlying bank, the result buffer is filled with zeros. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>is the aligned offset of the page </td></tr>
    <tr><td class="paramname">res</td><td>is the pointer to where retrieved bytes should be stored </td></tr>
    <tr><td class="paramname">skip</td><td>is the offset <em>into</em> <em>the</em> <em>page</em> from where bytes should be retrieved </td></tr>
    <tr><td class="paramname">size</td><td>is the number of bytes to retrieve </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classMemoryBank.html#ac48e5c77befa62116190b34611ad4339">MemoryBank</a>.</p>

</div>
</div>
<a id="a4dad83693ae5fe82459e9bdcb3f2415f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dad83693ae5fe82459e9bdcb3f2415f">&#9670;&nbsp;</a></span>insert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MemoryPageOverlay::insert </td>
          <td>(</td>
          <td class="paramtype">uintb&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintb&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overridden aligned word insert. </p>
<p>This derived method looks for a previously cached page of the underlying memory bank. If the cached page does not exist, it creates it and fills in its initial value by retrieving the page from the underlying bank. The new value is then written into cached page. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>is the aligned address of the word to be written </td></tr>
    <tr><td class="paramname">val</td><td>is the value to be written at that word </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classMemoryBank.html#abccbb8ba1e2c2ae941b372e90f454e5f">MemoryBank</a>.</p>

<p class="reference">References <a class="el" href="classMemoryBank.html#ab0cc660245fbe563982d49d68b6d2e02">MemoryBank::deconstructValue()</a>, <a class="el" href="classMemoryBank.html#a020cac2b86f83b069c2f1914bc70cb2b">MemoryBank::getPageSize()</a>, <a class="el" href="classMemoryBank.html#a8e8f3ea79a07142e2d655eccf4ebc0f0">MemoryBank::getSpace()</a>, and <a class="el" href="classMemoryBank.html#a996d7c04af8f8bf02ce7abb91d693dc5">MemoryBank::getWordSize()</a>.</p>

</div>
</div>
<a id="a1d713334ec06e47cfdfcf76f0649eb71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d713334ec06e47cfdfcf76f0649eb71">&#9670;&nbsp;</a></span>setPage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MemoryPageOverlay::setPage </td>
          <td>(</td>
          <td class="paramtype">uintb&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint1 *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int4&#160;</td>
          <td class="paramname"><em>skip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int4&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overridden setPage. </p>
<p>First, a cached version of the desired page is searched for via its address. If it doesn't exist, it is created, and its initial value is filled via the <em>underlying</em> bank. The bytes to be written are then copied into the cached page. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>is the aligned offset of the page to write </td></tr>
    <tr><td class="paramname">val</td><td>is a pointer to bytes to be written into the page </td></tr>
    <tr><td class="paramname">skip</td><td>is the offset <em>into</em> <em>the</em> <em>page</em> where bytes should be written </td></tr>
    <tr><td class="paramname">size</td><td>is the number of bytes to write </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classMemoryBank.html#a68bf2318442e1f7da99ae85f63f9df19">MemoryBank</a>.</p>

<p class="reference">References <a class="el" href="classMemoryBank.html#a020cac2b86f83b069c2f1914bc70cb2b">MemoryBank::getPageSize()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="memstate_8hh.html">memstate.hh</a></li>
<li>memstate.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
